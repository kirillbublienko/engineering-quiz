<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест для инженеров-проектировщиков</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        @import url('https://rsms.me/inter/inter.css');
        .quiz-option.selected { background-color: #3b82f6; color: white; border-color: #2563eb; }
        .table-cell { border: 1px solid #e5e7eb; padding: 8px; text-align: center; }
        /* Стили для скроллбара, чтобы код выглядел аккуратно */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="app-container" class="container mx-auto p-4 md:p-8 max-w-4xl">

        <!-- ЭКРАН 1: ВХОД -->
        <div id="start-screen" class="text-center bg-white p-8 rounded-xl shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Тест для проектировщиков</h1>
            <p id="greeting-text" class="text-lg text-gray-600 mb-6">Систем электроснабжения</p>
            
            <div class="max-w-md mx-auto text-left bg-gray-50 p-6 rounded-lg border border-gray-200">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">ФИО:</label>
                    <input type="text" id="login-name" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md bg-white" placeholder="Имя Фамилия">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700">Email:</label>
                    <input type="email" id="login-email" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md bg-white" placeholder="email@se.ua">
                </div>
                <div class="mb-2">
                     <label class="block text-sm font-medium text-gray-500">ID Сотрудника:</label>
                     <input type="text" id="login-id" readonly class="mt-1 block w-full px-3 py-2 border border-gray-200 bg-gray-200 text-gray-600 rounded-md cursor-not-allowed" placeholder="Автоматически из ссылки">
                </div>
                <p id="id-status" class="text-xs mt-2 text-gray-500">
                    <span id="id-error" class="text-red-500 hidden">ID не найден. Введите данные вручную.</span>
                    <span id="id-success" class="text-green-600 hidden">Сотрудник опознан.</span>
                </p>
            </div>
            
            <div class="p-4 mt-6 bg-blue-50 rounded-lg mb-8 text-sm text-blue-800 text-left">
                <ul class="list-disc list-inside space-y-1">
                    <li>Время выполнения: <strong>10 минут</strong>.</li>
                    <li>После завершения вы получите <strong>Код Результата</strong>.</li>
                </ul>
            </div>

            <button id="start-btn" class="w-full md:w-auto bg-blue-600 text-white font-bold py-3 px-10 rounded-lg hover:bg-blue-700 transition duration-300 text-lg opacity-50 cursor-not-allowed" disabled>Начать тест</button>
        </div>

        <!-- ЭКРАН 2: ТЕСТ -->
        <div id="quiz-screen" class="hidden">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-900">Вопрос <span id="question-number">1</span> из 15</h2>
                    <div class="text-lg font-bold text-red-600 font-mono bg-red-50 px-3 py-1 rounded"><span id="timer">10:00</span></div>
                </div>
                 <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                    <div id="progress-bar-inner" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
                <div class="mb-6">
                    <div id="question-text" class="text-lg md:text-xl leading-relaxed mb-4 text-gray-800"></div>
                    <div id="question-table-container" class="overflow-x-auto"></div>
                </div>
                <div id="options-container" class="grid grid-cols-1 gap-3"></div>
                <div class="mt-8 flex justify-between items-center pt-4 border-t border-gray-100">
                     <button id="prev-btn" class="bg-gray-100 text-gray-600 font-semibold py-2 px-6 rounded-lg hover:bg-gray-200 transition">Назад</button>
                    <button id="next-btn" class="bg-blue-600 text-white font-semibold py-2 px-8 rounded-lg hover:bg-blue-700 transition shadow-md hover:shadow-lg transform hover:-translate-y-0.5">Далее</button>
                </div>
            </div>
        </div>

        <!-- ЭКРАН 3: РЕЗУЛЬТАТЫ -->
        <div id="results-screen" class="hidden">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg text-center">
                <div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                </div>
                <h2 class="text-3xl font-bold mb-2 text-gray-900">Тест завершен</h2>
                <p class="text-gray-600 mb-8">Ваши ответы зашифрованы и готовы к отправке.</p>
                
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 text-left text-sm text-yellow-800 rounded-r">
                    <strong>Инструкция:</strong>
                    <ol class="list-decimal list-inside mt-1 ml-1 space-y-1">
                        <li>Нажмите кнопку <b>"Отправить Email"</b> (откроется почтовая программа).</li>
                        <li>Если не сработало — скопируйте код вручную и отправьте через мессенджер.</li>
                        <li><span class="text-red-600 font-bold">Важно:</span> Не изменяйте код, иначе результат будет недействителен.</li>
                    </ol>
                </div>

                <div class="mt-6 text-left">
                    <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2">Код результата (Result Code)</label>
                    <textarea id="result-code" readonly class="w-full h-32 p-3 border border-gray-300 rounded-md font-mono text-xs bg-gray-50 text-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
                    <div class="flex flex-col md:flex-row gap-3 mt-4">
                        <button id="copy-code-btn" class="flex-1 bg-gray-800 text-white font-bold py-3 rounded-lg hover:bg-gray-900 transition flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                            Копировать код
                        </button>
                        <button id="send-email-btn" class="flex-1 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition flex items-center justify-center shadow-lg hover:shadow-xl">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                            Отправить Email
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. БАЗА СОТРУДНИКОВ ---
        const employeesDB = {
            "4829": { name: "Александр Коваленко", email: "aleksandr.kovalenko@se.ua" },
            "1953": { name: "Александр Козориз", email: "kozoriz.alexander@se.ua" },
            "7264": { name: "Андрей Крылов", email: "krylov.andrey@se.ua" },
            "3185": { name: "Вадим Прокопчук", email: "vadim.prokopchuk@se.ua" },
            "9402": { name: "Владислава Рева", email: "vladyslava.reva@se.ua" },
            "5631": { name: "Иван Шевченко", email: "shevchenko.ivan@se.ua" },
            "2798": { name: "Максим Овеченко", email: "maksym.ovechenko@se.ua" },
            "6314": { name: "Тетяна Бідна", email: "tetyana.bidna@se.ua" },
            "8570": { name: "Юрий Залеский", email: "yuriy.zaleskiy@se.ua" }
        };

        // --- 2. БАЗА ВОПРОСОВ (ПОЛНЫЙ ТЕКСТ) ---
        const rawQuizData = [
            { 
                id: 0, 
                q: "Вам представлен фрагмент технического задания: «...необходимо установить автомат защиты с номинальным током 25 А, характеристика отключения - C, отключающая способность - 6 кА. Кабель должен быть типа ВВГнг-LS 3х2.5». При проверке чертежа вы видите, что для этой линии заложен кабель ВВГнг-LS 3х1.5. Какое действие является наиболее правильным?", 
                opts: [
                    "Принять чертеж без изменений, так как сечение 1.5 мм² иногда допустимо для 25 А.",
                    "Заменить автомат на 16 А, чтобы он соответствовал кабелю.",
                    "Указать на несоответствие сечения кабеля требованиям ТЗ и автомата защиты.",
                    "Запросить дополнительную информацию о нагрузке."
                ] 
            },
            { 
                id: 1, 
                q: "Пять автоматов, защищающих разные группы (Кухня, Гостиная, Ванная, Спальня, Коридор), расположены в щите в один ряд. Определите их точный порядок на основе следующих условий:<br><br>1. Автомат для кухни находится рядом с автоматом для гостиной.<br>2. Автомат для ванной не находится ни с одного из краев.<br>3. Между автоматами для спальни и кухни находится ровно один другой автомат.<br>4. Автомат для коридора расположен где-то левее автомата для гостиной.<br>5. Автомат для гостиной не находится ни с одного из краев.", 
                opts: [
                    "Коридор, Гостиная, Кухня, Ванная, Спальня",
                    "Коридор, Спальня, Ванная, Кухня, Гостиная",
                    "Гостиная, Кухня, Ванная, Спальня, Коридор",
                    "Коридор, Кухня, Гостиная, Ванная, Спальня"
                ] 
            },
            { 
                id: 2, 
                q: "Вы изучаете однолинейную схему и видите обозначение: <code class='bg-gray-100 px-1 rounded'>КЛ-0,4кВ-АВБбШв-4х120</code>. Что из перечисленного НЕВЕРНО описывает данный элемент?", 
                opts: [
                    "Это кабельная линия.",
                    "Номинальное напряжение линии - 0.4 кВ.",
                    "Кабель имеет медные жилы.",
                    "Кабель четырехжильный."
                ] 
            },
            { 
                id: 3, 
                q: "На плане помещения указаны размеры: длина 12 метров, ширина 8 метров. Необходимо равномерно расположить 6 светильников. Какое расстояние будет между центрами светильников, если расположить их в 2 ряда по 3 светильника в каждом?", 
                opts: [
                    "4 метра по длине и 4 метра по ширине.",
                    "3 метра по длине и 4 метра по ширине.",
                    "6 метров по длине и 4 метра по ширине.",
                    "4 метра по длине и 2.67 метра по ширине."
                ] 
            },
            { 
                id: 4, 
                q: "Все инженеры отдела знают AutoCAD. Некоторые инженеры отдела знают Revit. Какое утверждение всегда будет верным?", 
                opts: [
                    "Все, кто знает Revit, знают и AutoCAD.",
                    "Некоторые инженеры отдела знают и AutoCAD, и Revit.",
                    "Никто из тех, кто не знает Revit, не является инженером отдела.",
                    "Если инженер не знает AutoCAD, он не работает в этом отделе."
                ] 
            },
            { 
                id: 5, 
                q: "Вы получили список правок к проекту. В пункте 3.1 указано 'Заменить светильники типа X на тип Y', а в пункте 5.4 - 'Светильники типа X исключить из спецификации'. При этом в проекте остаются помещения, где светильники типа X должны быть по первоначальному замыслу. Ваши действия?", 
                opts: [
                    "Удалить все светильники X и заменить их на Y.",
                    "Проигнорировать пункт 5.4, так как он противоречит пункту 3.1.",
                    "Уточнить у заказчика или руководителя, относятся ли эти правки ко всему проекту или к конкретным его частям.",
                    "Выполнить только пункт 3.1, так как он более конкретный."
                ] 
            },
            { 
                id: 6, 
                q: "Продолжите стандартный ряд номинальных токов автоматических выключателей: 6А, 10А, 16А, ..., 32А, 40А.", 
                opts: [
                    "20А",
                    "24А",
                    "25А",
                    "30А"
                ] 
            },
            { 
                id: 7, 
                q: "На схеме показан щит, от которого отходят три линии. Потери напряжения на первой линии составляют 1.2%, на второй - 1.5%, на третьей - 0.9%. Допустимые потери до конечного потребителя не должны превышать 3%. Какие линии требуют дополнительной проверки?", 
                opts: [
                    "Только вторая линия.",
                    "Все линии в норме.",
                    "Вторая и первая линии.",
                    "Недостаточно данных для ответа."
                ] 
            },
            { 
                id: 8, 
                q: "Вам нужно проверить соответствие сечения кабеля выбранному автоматическому выключателю. Какой нормативный документ вы будете использовать в первую очередь?", 
                opts: [
                    "ДБН (Державні будівельні норми)",
                    "ПУЭ (Правила улаштування електроустановок)",
                    "ГОСТ на кабельную продукцию",
                    "Каталог производителя автоматических выключателей"
                ] 
            },
            { 
                id: 9, 
                q: "Если повернуть эту фигуру на 90 градусов по часовой стрелке, какая из опций получится? (Представьте букву 'Г', лежащую на длинной стороне)", 
                opts: [
                    "Буква 'Г' в обычном стоячем положении.",
                    "Перевернутая буква 'Г'.",
                    "Буква 'L'.",
                    "Фигура не изменится."
                ] 
            },
            { 
                id: 10, 
                q: "Для защиты отходящей линии с номинальным током нагрузки 45 А необходимо выбрать автоматический выключатель. Расчетный ток короткого замыкания (КЗ) в точке его установки составляет 18,5 кА. Какой из предложенных вариантов является единственно верным, исходя из стандартных характеристик оборудования?", 
                opts: [
                    "MCB с номинальным током 50 А и отключающей способностью 10 кА.",
                    "MCCB с номинальным током 40 А и отключающей способностью 25 кА.",
                    "Высокопроизводительный MCB с номинальным током 50 А и отключающей способностью 15 кА.",
                    "MCCB с номинальным током 50 А и отключающей способностью 25 кА."
                ] 
            },
            { 
                id: 11, 
                q: "При прокладке кабеля в грунте параллельно фундаменту здания, какое минимальное <strong>горизонтальное</strong> расстояние до фундамента необходимо соблюсти?", 
                opts: [
                    "0.25 метра",
                    "0.6 метра",
                    "1.0 метр",
                    "Не нормируется, главное - ниже глубины промерзания."
                ] 
            },
            { 
                id: 12, 
                q: "Какая минимальная средняя освещенность должна быть обеспечена на рабочих поверхностях в помещении аналитической лаборатории, где проводятся работы высокой точности, согласно действующим нормам?", 
                opts: [
                    "300 Кандела (кд)",
                    "500 Люмен (Лм)",
                    "500 Люкс (Лк)",
                    "200 Вт/м²"
                ] 
            },
            { 
                id: 13, 
                q: "Для защиты розеточной группы в ванной комнате, к которой будет подключаться стиральная машина и фен, какой тип УЗО (ПЗВ) является наиболее правильным выбором?", 
                opts: [
                    "УЗО 40А / 100мА, тип АС",
                    "УЗО 25А / 30мА, тип АС",
                    "УЗО 25А / 10мА, тип А",
                    "Дифавтомат 16А / 30мА, тип B"
                ] 
            },
            { 
                id: 14, 
                q: "Вы проверяете ведомость групповых линий трехфазного щита (ЩО). В пояснении к ведомости указано: \"Суммарная установленная мощность составляет 6900 Вт.\". Проанализируйте таблицу и найдите одно ключевое несоответствие.", 
                table: true,
                opts: [
                    "Суммарная мощность, указанная в пояснении (6900 Вт), не соответствует действительности.",
                    "Нагрузка \"Кондиционер\" (2000 Вт) не может быть подключена к той же фазе, что и \"Освещение\".",
                    "Нагрузка на фазу L1 значительно превышает нагрузки на другие фазы, что нарушает требование балансировки.",
                    "В таблице и пояснении нет никаких несоответствий."
                ] 
            }
        ];

        // --- ЛОГИКА ПРИЛОЖЕНИЯ ---
        
        let activeQuizData = [];
        let currentQuestionIndex = 0;
        let userAnswersRaw = {}; 
        let timeSpent = {}; 
        let timerInterval, qStart;
        let userId = "GUEST", userName = "", userEmail = "";

        const els = {
            loginName: document.getElementById('login-name'),
            loginEmail: document.getElementById('login-email'),
            loginId: document.getElementById('login-id'),
            startBtn: document.getElementById('start-btn'),
            screens: { start: document.getElementById('start-screen'), quiz: document.getElementById('quiz-screen'), results: document.getElementById('results-screen') },
            timer: document.getElementById('timer'),
            qNum: document.getElementById('question-number'),
            qText: document.getElementById('question-text'),
            qTable: document.getElementById('question-table-container'),
            opts: document.getElementById('options-container'),
            btns: { prev: document.getElementById('prev-btn'), next: document.getElementById('next-btn') },
            resultCode: document.getElementById('result-code'),
            idStatus: { error: document.getElementById('id-error'), success: document.getElementById('id-success') }
        };

        function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }

        // Инициализация: проверка ID в URL
        window.onload = () => {
            const p = new URLSearchParams(window.location.search);
            const id = p.get('id');
            if(id && employeesDB[id]) {
                const u = employeesDB[id];
                els.loginName.value = u.name; els.loginName.readOnly = true; els.loginName.classList.add('bg-gray-100', 'cursor-not-allowed');
                els.loginEmail.value = u.email; els.loginEmail.readOnly = true; els.loginEmail.classList.add('bg-gray-100', 'cursor-not-allowed');
                els.loginId.value = id; userId = id;
                els.idStatus.success.classList.remove('hidden');
                checkForm();
            } else {
                if(id) els.idStatus.error.classList.remove('hidden');
                checkForm();
            }
        };

        [els.loginName, els.loginEmail].forEach(e => e.addEventListener('input', checkForm));
        
        function checkForm() {
            if(els.loginName.value && els.loginEmail.value) {
                els.startBtn.disabled = false; els.startBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }

        els.startBtn.onclick = () => {
            userName = els.loginName.value; userEmail = els.loginEmail.value;
            
            // 1. Клонируем и перемешиваем
            activeQuizData = JSON.parse(JSON.stringify(rawQuizData));
            shuffle(activeQuizData);
            activeQuizData.forEach(q => { 
                q.origOpts = [...q.opts]; 
                shuffle(q.opts); 
            });
            
            els.screens.start.classList.add('hidden');
            els.screens.quiz.classList.remove('hidden');
            loadQuestion(0);
            startTimer();
        };

        function startTimer() {
            let t = 600; // 10 минут
            els.timer.textContent = "10:00";
            timerInterval = setInterval(() => {
                t--;
                let m = Math.floor(t/60).toString().padStart(2,'0'), s = (t%60).toString().padStart(2,'0');
                els.timer.textContent = `${m}:${s}`;
                if(t<=0) finish();
            }, 1000);
        }

        function recordTime() {
            if(qStart) {
                const qId = activeQuizData[currentQuestionIndex].id;
                timeSpent[qId] = (timeSpent[qId] || 0) + Math.round((Date.now() - qStart)/1000);
            }
        }

        function loadQuestion(idx) {
            qStart = Date.now();
            currentQuestionIndex = idx;
            const q = activeQuizData[idx];
            
            els.qNum.textContent = idx + 1;
            els.qText.innerHTML = q.q;
            els.qTable.innerHTML = q.table ? `<table class="w-full my-4 border-collapse text-sm"><thead><tr class="bg-gray-100"><th class="table-cell font-bold">№</th><th class="table-cell font-bold">Нагрузка</th><th class="table-cell font-bold">Мощность</th><th class="table-cell font-bold">Фаза</th></tr></thead><tbody><tr><td class="table-cell">1</td><td class="table-cell">Освещение, коридор</td><td class="table-cell">1200</td><td class="table-cell">L1</td></tr><tr><td class="table-cell">2</td><td class="table-cell">Розетки, кабинеты</td><td class="table-cell">1500</td><td class="table-cell">L2</td></tr><tr><td class="table-cell">3</td><td class="table-cell">Розетки, кухня</td><td class="table-cell">2200</td><td class="table-cell">L3</td></tr><tr><td class="table-cell">4</td><td class="table-cell">Кондиционер</td><td class="table-cell">2000</td><td class="table-cell">L1</td></tr></tbody></table>` : '';
            
            els.opts.innerHTML = '';
            q.opts.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = `quiz-option w-full p-4 border-2 rounded-lg text-left hover:bg-blue-50 transition duration-200 ${userAnswersRaw[q.id] === opt ? 'selected' : ''}`;
                btn.textContent = opt;
                btn.onclick = () => {
                    userAnswersRaw[q.id] = opt;
                    Array.from(els.opts.children).forEach(c => c.classList.remove('selected'));
                    btn.classList.add('selected');
                };
                els.opts.appendChild(btn);
            });

            document.getElementById('progress-bar-inner').style.width = `${((idx+1)/15)*100}%`;
            
            els.btns.prev.disabled = idx === 0;
            els.btns.prev.classList.toggle('opacity-50', idx === 0);
            els.btns.next.textContent = idx === 14 ? 'Завершить' : 'Далее';
        }

        els.btns.prev.onclick = () => { recordTime(); loadQuestion(currentQuestionIndex - 1); };
        els.btns.next.onclick = () => { 
            recordTime(); 
            if(currentQuestionIndex < 14) loadQuestion(currentQuestionIndex + 1);
            else finish();
        };

        function finish() {
            recordTime();
            clearInterval(timerInterval);
            els.screens.quiz.classList.add('hidden');
            els.screens.results.classList.remove('hidden');
            
            // ГЕНЕРАЦИЯ КОДА
            // Структура: { u: "ID", n: "Name", d: "Date", r: [ {q: QuestionID, a: AnswerIndex(Orig), t: Time} ] }
            const payload = {
                u: userId,
                n: userName,
                d: new Date().toISOString().split('T')[0],
                r: []
            };

            rawQuizData.forEach(origQ => {
                const userText = userAnswersRaw[origQ.id];
                // Ищем индекс выбранного ответа в ОРИГИНАЛЬНОМ (неперемешанном) списке вариантов
                const ansIdx = userText ? origQ.opts.indexOf(userText) : -1;
                const time = timeSpent[origQ.id] || 0;
                
                payload.r.push({ q: origQ.id, a: ansIdx, t: time });
            });

            const jsonStr = JSON.stringify(payload);
            // Простая кодировка Base64 (для кириллицы нужен escape)
            const code = btoa(unescape(encodeURIComponent(jsonStr)));
            
            els.resultCode.value = code;
        }

        document.getElementById('copy-code-btn').onclick = function() {
            els.resultCode.select();
            document.execCommand('copy');
            const originalText = this.innerHTML;
            this.innerHTML = `<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Скопировано!`;
            setTimeout(() => this.innerHTML = originalText, 2000);
        };

        document.getElementById('send-email-btn').onclick = () => {
            const code = els.resultCode.value;
            const subject = `Результат теста: ${userName} (ID ${userId})`;
            const body = `Сотрудник: ${userName}\nID: ${userId}\n\nКОД РЕЗУЛЬТАТА:\n${code}\n\n(Скопируйте код выше в Визуализатор для проверки)`;
            window.location.href = `mailto:kirill.bublienko@se.ua?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        };
    </script>
</body>
</html>
